(this["webpackJsonpmapbox-test"]=this["webpackJsonpmapbox-test"]||[]).push([[0],{22:function(e,t,n){e.exports=n(38)},27:function(e,t,n){},32:function(e,t,n){e.exports=n.p+"static/media/mosque1.f26d7619.png"},33:function(e,t,n){e.exports=n.p+"static/media/mosque2.f90eacbc.png"},34:function(e,t,n){e.exports=n.p+"static/media/mosque3.faee101b.png"},35:function(e,t,n){e.exports=n.p+"static/media/mosque4.19709cd1.png"},36:function(e,t,n){e.exports=n.p+"static/media/mosque5.455e3bf2.png"},37:function(e,t,n){e.exports=n.p+"static/media/mosque6.7132b140.png"},38:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),i=n(19),o=n.n(i),l=(n(27),n(16)),r=n(8),s=n(7),u=n.n(s),p=n(20),m=n(10),d=n(14),b=n(13),f="https://us-central1-mosque-fund-fb.cloudfunctions.net/api/mosques",h="eyJhbGciOiJSUzI1NiIsImtpZCI6IjZjZmMyMzViZDYxMGZhY2FlYzVlYjBhZGU5NTg5ZGE5NTI4MmRlY2QiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vbW9zcXVlLWZ1bmQtZmIiLCJhdWQiOiJtb3NxdWUtZnVuZC1mYiIsImF1dGhfdGltZSI6MTU5NTU0NjY1NywidXNlcl9pZCI6IlJsbHgyeENRNk9aOWtWOFNyTGpoVlR5RWIzeDEiLCJzdWIiOiJSbGx4MnhDUTZPWjlrVjhTckxqaFZUeUViM3gxIiwiaWF0IjoxNTk1NTQ2NjU4LCJleHAiOjE1OTU1NTAyNTgsImVtYWlsIjoib25vb3JpQHVjaS5lZHUiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZW1haWwiOlsib25vb3JpQHVjaS5lZHUiXX0sInNpZ25faW5fcHJvdmlkZXIiOiJwYXNzd29yZCJ9fQ.O2NcbPGvaPpblJ_KwbzoIa-dEmCO5ue2IUUHhDJlldV1D-Y0eWDNJer2PEJEOAoI6G2MutrgNP-me8dxcqg8Jw6xyMjLdZB7PZ0DNn0TOrXDq4D4yw1t3r8QB2nbKfXHZxi2qiqK_okBidUUzNJoH_d7ui6hbUnRgXR6wKBxsqw9ze9UqRDuzh68q2t-u8b74qPwiAAQv0PgARrw70Yu-d6w8ixRrVWOECL7xaVIhchEqvop_KvBf3IVdkZT6qYfUzxX9WkSsxpr6pRWMf85b3_gFPCiDJepsThg5OWBg8667ALj1sBuOkyc_HBtQEKGSaystzDyXlg4KWN0vD8G9A";function I(){return g.apply(this,arguments)}function g(){return(g=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"?token=").concat(h,"&limit=100&dev=true"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),i=t[0],o=t[1],s=Object(a.useState)({}),f=Object(d.a)(s,2),h=f[0],g=f[1],O=Object(a.useState)({width:"100vw",height:"100vh",latitude:33.9174485,longitude:-118.0283703,zoom:9}),Z=Object(d.a)(O,2),j=Z[0],N=Z[1],x=[n(32),n(33),n(34),n(35),n(36),n(37)];Object(a.useEffect)((function(){Object(m.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Mosque Fund Map",e.next=3,I();case 3:t=e.sent,n=Object(p.a)(t);try{for(n.s();!(a=n.n()).done;)a.value.iconUrl=x[Math.floor(6*Math.random())]}catch(c){n.e(c)}finally{n.f()}o(t);case 7:case"end":return e.stop()}}),e)})))()}),[]);return c.a.createElement(b.c,Object.assign({mapboxApiAccessToken:"pk.eyJ1IjoibW9zcXVlZnVuZCIsImEiOiJja2N3ank1ZXUwMnVnMnNwbXh2eXB5OG04In0.J56Th828d2K-c5sJ8tLsjg"},j,{mapStyle:"mapbox://styles/mosquefund/ckczhvmog02781io8pfq9abpt",onViewportChange:N,onDblClick:function(e){console.log(e)}}),i.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{key:e.placeId,latitude:Number(e.latitude),longitude:Number(e.longitude),style:{zIndex:"-1"}},c.a.createElement("div",{onClick:function(){return g(Object(r.a)({},e.placeId,!0))}},c.a.createElement("img",{className:"marker",alt:"marker",style:{width:"".concat(5*j.zoom,"px"),height:"".concat(5*j.zoom,"px")},src:e.iconUrl}))),h[e.placeId]?c.a.createElement(b.b,{latitude:Number(e.latitude),longitude:Number(e.longitude),style:{zIndex:"1"},closeButton:!0,closeOnClick:!1,dynamicPosition:!0,onClose:function(){return g(Object(l.a)(Object(l.a)({},h),{},Object(r.a)({},e.placeId,!1)))},anchor:"top"},c.a.createElement("div",{className:"popup"},c.a.createElement("h3",null,e.name),c.a.createElement("p",null,e.fullAddress),e.website?c.a.createElement("p",null,"Website: ",c.a.createElement("a",{href:"https://www.".concat(e.website),target:"_blank",rel:"noopener noreferrer"},e.website)):null,Number(e.rating)>4?c.a.createElement("p",null,"Rating: ",e.rating):null)):null)})))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(O,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.836463d6.chunk.js.map