{"version":3,"sources":["API.js","App.js","index.js"],"names":["API_URL","token","listMosques","a","fetch","response","json","App","useState","mosques","setMosques","showPopup","setShowPopup","width","height","latitude","longitude","zoom","viewport","setViewPort","mosqueImages","useEffect","iconUrl","Math","floor","random","mapboxApiAccessToken","mapStyle","onViewportChange","onDblClick","event","console","log","map","entry","key","placeId","Number","style","zIndex","onClick","className","alt","src","closeButton","closeOnClick","dynamicPosition","onClose","anchor","name","fullAddress","website","href","target","rel","rating","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6RAAMA,EAAU,oEACVC,EAAQ,+4BAEP,SAAeC,IAAtB,+B,4CAAO,4BAAAC,EAAA,sEACkBC,MAAM,GAAD,OAAIJ,EAAJ,kBAAqBC,EAArB,wBADvB,cACCI,EADD,yBAEEA,EAASC,QAFX,4C,sBCEP,IAoGeC,EApGH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEkBF,mBAAS,IAF3B,mBAETG,EAFS,KAEEC,EAFF,OAIgBJ,mBAAS,CACvCK,MAAO,QACPC,OAAQ,QACRC,SAAU,WACVC,WAAY,YACZC,KAAM,IATQ,mBAITC,EAJS,KAICC,EAJD,KAaVC,EAAe,CACnB,yEACA,yEACA,yEACA,yEACA,yEACA,0EAGFC,qBAAU,WACR,sBAAC,gCAAAlB,EAAA,sEACuBD,IADvB,OACOO,EADP,qBAEsBA,GAFtB,IAEC,2BAA8B,QACrBa,QAAUF,EAAaG,KAAKC,MAAsB,EAAhBD,KAAKE,WAHjD,8BAMCf,EAAWD,GANZ,0CAAD,KAQC,IAMH,OACE,kBAAC,IAAD,eACEiB,qBA5BU,iGA6BNR,EAFN,CAGES,SAAS,uDACTC,iBAAkBT,EAClBU,WAVuB,SAACC,GAC1BC,QAAQC,IAAIF,MAYRrB,EAAQwB,KAAI,SAAAC,GAAK,OACf,oCACE,kBAAC,IAAD,CACEC,IAAKD,EAAME,QACXrB,SAAUsB,OAAOH,EAAMnB,UACvBC,UAAWqB,OAAOH,EAAMlB,WACxBsB,MAAO,CACLC,OAAQ,OAGV,yBAAKC,QAAS,kBAAM5B,EAAa,eAE9BsB,EAAME,SAAU,MAEjB,yBAAKK,UAAU,SACbC,IAAI,SACJJ,MAAO,CACLzB,MAAM,GAAD,OAAK,EAAIK,EAASD,KAAlB,MACLH,OAAO,GAAD,OAAK,EAAII,EAASD,KAAlB,OAER0B,IAAKT,EAAMZ,YAIfX,EAAUuB,EAAME,SACd,kBAAC,IAAD,CACErB,SAAUsB,OAAOH,EAAMnB,UACvBC,UAAWqB,OAAOH,EAAMlB,WACxBsB,MAAO,CACLC,OAAQ,KAEVK,aAAa,EACbC,cAAc,EACdC,iBAAiB,EACjBC,QAAS,kBAAMnC,EAAa,2BAAKD,GAAN,kBAAkBuB,EAAME,SAAU,MAC7DY,OAAO,OAEP,yBAAKP,UAAU,SACb,4BAAKP,EAAMe,MACX,2BAAIf,EAAMgB,aACThB,EAAMiB,QAAU,uCAAY,uBAAGC,KAAI,sBAAiBlB,EAAMiB,SAAWE,OAAO,SAASC,IAAI,uBAAuBpB,EAAMiB,UAAmB,KACzId,OAAOH,EAAMqB,QAAU,EAAI,sCAAYrB,EAAMqB,QAAc,OAI9D,WC3FlBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.8143efe3.chunk.js","sourcesContent":["const API_URL = 'https://us-central1-mosque-fund-fb.cloudfunctions.net/api/mosques';\r\nconst token = 'eyJhbGciOiJSUzI1NiIsImtpZCI6IjZjZmMyMzViZDYxMGZhY2FlYzVlYjBhZGU5NTg5ZGE5NTI4MmRlY2QiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vbW9zcXVlLWZ1bmQtZmIiLCJhdWQiOiJtb3NxdWUtZnVuZC1mYiIsImF1dGhfdGltZSI6MTU5NTU0NjY1NywidXNlcl9pZCI6IlJsbHgyeENRNk9aOWtWOFNyTGpoVlR5RWIzeDEiLCJzdWIiOiJSbGx4MnhDUTZPWjlrVjhTckxqaFZUeUViM3gxIiwiaWF0IjoxNTk1NTQ2NjU4LCJleHAiOjE1OTU1NTAyNTgsImVtYWlsIjoib25vb3JpQHVjaS5lZHUiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZW1haWwiOlsib25vb3JpQHVjaS5lZHUiXX0sInNpZ25faW5fcHJvdmlkZXIiOiJwYXNzd29yZCJ9fQ.O2NcbPGvaPpblJ_KwbzoIa-dEmCO5ue2IUUHhDJlldV1D-Y0eWDNJer2PEJEOAoI6G2MutrgNP-me8dxcqg8Jw6xyMjLdZB7PZ0DNn0TOrXDq4D4yw1t3r8QB2nbKfXHZxi2qiqK_okBidUUzNJoH_d7ui6hbUnRgXR6wKBxsqw9ze9UqRDuzh68q2t-u8b74qPwiAAQv0PgARrw70Yu-d6w8ixRrVWOECL7xaVIhchEqvop_KvBf3IVdkZT6qYfUzxX9WkSsxpr6pRWMf85b3_gFPCiDJepsThg5OWBg8667ALj1sBuOkyc_HBtQEKGSaystzDyXlg4KWN0vD8G9A';\r\n\r\nexport async function listMosques() {\r\n  const response = await fetch(`${API_URL}?token=${token}&limit=100&dev=true`);\r\n  return response.json();\r\n}","import React, { useState, useEffect } from 'react';\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl';\n\nimport { listMosques } from './API';\n\nconst App = () => {\n  const [mosques, setMosques] = useState([]);\n  const [showPopup, setShowPopup] = useState({});\n  // const [showMarker, setShowMarker] = useState({});\n  const [viewport, setViewPort] = useState({\n    width: '100vw',\n    height: '100vh',\n    latitude: 33.9174485,\n    longitude: -118.0283703,\n    zoom: 9\n  });\n  const TOKEN = \"pk.eyJ1IjoibW9zcXVlZnVuZCIsImEiOiJja2N3ank1ZXUwMnVnMnNwbXh2eXB5OG04In0.J56Th828d2K-c5sJ8tLsjg\";\n\n  const mosqueImages = [\n    'https://files.slack.com/files-pri/TPKPULMGC-F017FEQNRFY/mosque1-01.png',\n    'https://files.slack.com/files-pri/TPKPULMGC-F017UC910UC/mosque1-02.png',\n    'https://files.slack.com/files-pri/TPKPULMGC-F0180R9PARX/mosque1-03.png',\n    'https://files.slack.com/files-pri/TPKPULMGC-F017LRCJTQV/mosque1-04.png',\n    'https://files.slack.com/files-pri/TPKPULMGC-F0177EGNBGF/mosque1-05.png',\n    'https://files.slack.com/files-pri/TPKPULMGC-F0180R9SD0R/mosque1-06.png'\n  ];\n\n  useEffect(() => {\n    (async () => {\n      const mosques = await listMosques();\n      for (const mosque of mosques) {\n        mosque.iconUrl = mosqueImages[Math.floor(Math.random() * 6)];\n        // setShowMarker({ ...showMarker, [mosque.placeId]: true });\n      }\n      setMosques(mosques);\n    })();\n  }, []);\n\n  const showAddMarkerPopup = (event) => {\n    console.log(event);\n  }\n\n  return (\n    <ReactMapGL\n      mapboxApiAccessToken={TOKEN}\n      {...viewport}\n      mapStyle=\"mapbox://styles/mosquefund/ckczhvmog02781io8pfq9abpt\"\n      onViewportChange={setViewPort}\n      onDblClick={showAddMarkerPopup}\n    >\n      {\n        mosques.map(entry => (\n          <>\n            <Marker\n              key={entry.placeId}\n              latitude={Number(entry.latitude)}\n              longitude={Number(entry.longitude)}\n              style={{\n                zIndex: '-1'\n              }}\n            >\n              <div onClick={() => setShowPopup({\n                // ...showPopup,\n                [entry.placeId]: true\n              })}>\n                <img className=\"marker\"\n                  alt=\"marker\"\n                  style={{\n                    width: `${5 * viewport.zoom}px`,\n                    height: `${5 * viewport.zoom}px`,\n                  }}\n                  src={entry.iconUrl} />\n              </div>\n            </Marker>\n            {\n              showPopup[entry.placeId] ? (\n                <Popup\n                  latitude={Number(entry.latitude)}\n                  longitude={Number(entry.longitude)}\n                  style={{\n                    zIndex: '1'\n                  }}\n                  closeButton={true}\n                  closeOnClick={false}\n                  dynamicPosition={true}\n                  onClose={() => setShowPopup({ ...showPopup, [entry.placeId]: false })}\n                  anchor=\"top\"\n                >\n                  <div className=\"popup\">\n                    <h3>{entry.name}</h3>\n                    <p>{entry.fullAddress}</p>\n                    {entry.website ? <p>Website: <a href={`https://www.${entry.website}`} target=\"_blank\" rel=\"noopener noreferrer\">{entry.website}</a></p> : null}\n                    {Number(entry.rating) > 4 ? <p>Rating: {entry.rating}</p> : null}\n\n                  </div>\n                </Popup>\n              ) : null\n            }\n          </>\n        ))\n      }\n    </ReactMapGL >\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}