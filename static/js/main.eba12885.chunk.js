(this["webpackJsonpmapbox-test"]=this["webpackJsonpmapbox-test"]||[]).push([[0],{22:function(e,t,n){e.exports=n(32)},27:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(2),l=n.n(a),c=n(19),i=n.n(c),s=(n(27),n(16)),r=n(8),o=n(7),u=n.n(o),p=n(20),m=n(10),b=n(14),d=n(13),f="https://us-central1-mosque-fund-fb.cloudfunctions.net/api/mosques",h="eyJhbGciOiJSUzI1NiIsImtpZCI6IjZjZmMyMzViZDYxMGZhY2FlYzVlYjBhZGU5NTg5ZGE5NTI4MmRlY2QiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vbW9zcXVlLWZ1bmQtZmIiLCJhdWQiOiJtb3NxdWUtZnVuZC1mYiIsImF1dGhfdGltZSI6MTU5NTU0NjY1NywidXNlcl9pZCI6IlJsbHgyeENRNk9aOWtWOFNyTGpoVlR5RWIzeDEiLCJzdWIiOiJSbGx4MnhDUTZPWjlrVjhTckxqaFZUeUViM3gxIiwiaWF0IjoxNTk1NTQ2NjU4LCJleHAiOjE1OTU1NTAyNTgsImVtYWlsIjoib25vb3JpQHVjaS5lZHUiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZW1haWwiOlsib25vb3JpQHVjaS5lZHUiXX0sInNpZ25faW5fcHJvdmlkZXIiOiJwYXNzd29yZCJ9fQ.O2NcbPGvaPpblJ_KwbzoIa-dEmCO5ue2IUUHhDJlldV1D-Y0eWDNJer2PEJEOAoI6G2MutrgNP-me8dxcqg8Jw6xyMjLdZB7PZ0DNn0TOrXDq4D4yw1t3r8QB2nbKfXHZxi2qiqK_okBidUUzNJoH_d7ui6hbUnRgXR6wKBxsqw9ze9UqRDuzh68q2t-u8b74qPwiAAQv0PgARrw70Yu-d6w8ixRrVWOECL7xaVIhchEqvop_KvBf3IVdkZT6qYfUzxX9WkSsxpr6pRWMf85b3_gFPCiDJepsThg5OWBg8667ALj1sBuOkyc_HBtQEKGSaystzDyXlg4KWN0vD8G9A";function I(){return g.apply(this,arguments)}function g(){return(g=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"?token=").concat(h,"&limit=100&dev=true"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)({}),o=Object(b.a)(i,2),f=o[0],h=o[1],g=Object(a.useState)({width:"100vw",height:"100vh",latitude:33.9174485,longitude:-118.0283703,zoom:9}),N=Object(b.a)(g,2),O=N[0],Z=N[1],j=["https://files.slack.com/files-pri/TPKPULMGC-F017FEQNRFY/mosque1-01.png","https://files.slack.com/files-pri/TPKPULMGC-F017UC910UC/mosque1-02.png","https://files.slack.com/files-pri/TPKPULMGC-F0180R9PARX/mosque1-03.png","https://files.slack.com/files-pri/TPKPULMGC-F017LRCJTQV/mosque1-04.png","https://files.slack.com/files-pri/TPKPULMGC-F0177EGNBGF/mosque1-05.png","https://files.slack.com/files-pri/TPKPULMGC-F0180R9SD0R/mosque1-06.png"];Object(a.useEffect)((function(){Object(m.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Mosque Fund Map",e.next=3,I();case 3:t=e.sent,n=Object(p.a)(t);try{for(n.s();!(a=n.n()).done;)a.value.iconUrl=j[Math.floor(6*Math.random())]}catch(l){n.e(l)}finally{n.f()}c(t);case 7:case"end":return e.stop()}}),e)})))()}),[]);return l.a.createElement(d.c,Object.assign({mapboxApiAccessToken:"pk.eyJ1IjoibW9zcXVlZnVuZCIsImEiOiJja2N3ank1ZXUwMnVnMnNwbXh2eXB5OG04In0.J56Th828d2K-c5sJ8tLsjg"},O,{mapStyle:"mapbox://styles/mosquefund/ckczhvmog02781io8pfq9abpt",onViewportChange:Z,onDblClick:function(e){console.log(e)}}),n.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{key:e.placeId,latitude:Number(e.latitude),longitude:Number(e.longitude),style:{zIndex:"-1"}},l.a.createElement("div",{onClick:function(){return h(Object(r.a)({},e.placeId,!0))}},l.a.createElement("img",{className:"marker",alt:"marker",style:{width:"".concat(5*O.zoom,"px"),height:"".concat(5*O.zoom,"px")},src:e.iconUrl}))),f[e.placeId]?l.a.createElement(d.b,{latitude:Number(e.latitude),longitude:Number(e.longitude),style:{zIndex:"1"},closeButton:!0,closeOnClick:!1,dynamicPosition:!0,onClose:function(){return h(Object(s.a)(Object(s.a)({},f),{},Object(r.a)({},e.placeId,!1)))},anchor:"top"},l.a.createElement("div",{className:"popup"},l.a.createElement("h3",null,e.name),l.a.createElement("p",null,e.fullAddress),e.website?l.a.createElement("p",null,"Website: ",l.a.createElement("a",{href:"https://www.".concat(e.website),target:"_blank",rel:"noopener noreferrer"},e.website)):null,Number(e.rating)>4?l.a.createElement("p",null,"Rating: ",e.rating):null)):null)})))};i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(N,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.eba12885.chunk.js.map