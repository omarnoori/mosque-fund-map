{"version":3,"sources":["images/mosque1.png","images/mosque2.png","images/mosque3.png","images/mosque4.png","images/mosque5.png","images/mosque6.png","API.js","App.js","index.js"],"names":["module","exports","API_URL","token","listMosques","a","fetch","response","json","App","useState","mosques","setMosques","showPopup","setShowPopup","width","height","latitude","longitude","zoom","viewport","setViewPort","mosqueImages","require","useEffect","document","title","iconUrl","Math","floor","random","mapboxApiAccessToken","mapStyle","onViewportChange","onDblClick","event","console","log","map","entry","key","placeId","Number","style","zIndex","onClick","className","alt","src","closeButton","closeOnClick","dynamicPosition","onClose","anchor","name","fullAddress","website","href","target","rel","rating","ReactDOM","render","StrictMode","getElementById"],"mappings":"6JAAAA,EAAOC,QAAU,IAA0B,qC,mBCA3CD,EAAOC,QAAU,IAA0B,qC,mBCA3CD,EAAOC,QAAU,IAA0B,qC,mBCA3CD,EAAOC,QAAU,IAA0B,qC,mBCA3CD,EAAOC,QAAU,IAA0B,qC,mBCA3CD,EAAOC,QAAU,IAA0B,qC,mJCArCC,EAAU,oEACVC,EAAQ,+4BAEP,SAAeC,IAAtB,+B,4CAAO,4BAAAC,EAAA,sEACkBC,MAAM,GAAD,OAAIJ,EAAJ,kBAAqBC,EAArB,wBADvB,cACCI,EADD,yBAEEA,EAASC,QAFX,4C,sBCEP,IAsGeC,EAtGH,WAAO,IAAD,EAEcC,mBAAS,IAFvB,mBAETC,EAFS,KAEAC,EAFA,OAGkBF,mBAAS,IAH3B,mBAGTG,EAHS,KAGEC,EAHF,OAKgBJ,mBAAS,CACvCK,MAAO,QACPC,OAAQ,QACRC,SAAU,WACVC,WAAY,YACZC,KAAM,IAVQ,mBAKTC,EALS,KAKCC,EALD,KAcVC,EAAe,CACnBC,EAAQ,IACRA,EAAQ,IACRA,EAAQ,IACRA,EAAQ,IACRA,EAAQ,IACRA,EAAQ,KAGVC,qBAAU,WACR,sBAAC,gCAAAnB,EAAA,6DACCoB,SAASC,MAAQ,kBADlB,SAEuBtB,IAFvB,OAEOO,EAFP,qBAGsBA,GAHtB,IAGC,2BAA8B,QACrBgB,QAAUL,EAAaM,KAAKC,MAAsB,EAAhBD,KAAKE,WAJjD,8BAOClB,EAAWD,GAPZ,0CAAD,KASC,IAMH,OACE,kBAAC,IAAD,eACEoB,qBA7BU,iGA8BNX,EAFN,CAGEY,SAAS,uDACTC,iBAAkBZ,EAClBa,WAVuB,SAACC,GAC1BC,QAAQC,IAAIF,MAYRxB,EAAQ2B,KAAI,SAAAC,GAAK,OACf,oCACE,kBAAC,IAAD,CACEC,IAAKD,EAAME,QACXxB,SAAUyB,OAAOH,EAAMtB,UACvBC,UAAWwB,OAAOH,EAAMrB,WACxByB,MAAO,CACLC,OAAQ,OAGV,yBAAKC,QAAS,kBAAM/B,EAAa,eAE9ByB,EAAME,SAAU,MAEjB,yBAAKK,UAAU,SACbC,IAAI,SACJJ,MAAO,CACL5B,MAAM,GAAD,OAAK,IAAMK,EAASD,KAApB,MACLH,OAAO,GAAD,OAAK,IAAMI,EAASD,KAApB,OAER6B,IAAKT,EAAMZ,YAIfd,EAAU0B,EAAME,SACd,kBAAC,IAAD,CACExB,SAAUyB,OAAOH,EAAMtB,UACvBC,UAAWwB,OAAOH,EAAMrB,WACxByB,MAAO,CACLC,OAAQ,KAEVK,aAAa,EACbC,cAAc,EACdC,iBAAiB,EACjBC,QAAS,kBAAMtC,EAAa,2BAAKD,GAAN,kBAAkB0B,EAAME,SAAU,MAC7DY,OAAO,OAEP,yBAAKP,UAAU,SACb,4BAAKP,EAAMe,MACX,2BAAIf,EAAMgB,aACThB,EAAMiB,QAAU,uCAAY,uBAAGC,KAAI,sBAAiBlB,EAAMiB,SAAWE,OAAO,SAASC,IAAI,uBAAuBpB,EAAMiB,UAAmB,KACzId,OAAOH,EAAMqB,QAAU,EAAI,sCAAYrB,EAAMqB,QAAc,OAI9D,WC7FlBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFtC,SAASuC,eAAe,W","file":"static/js/main.cc00b5e5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mosque1.f26d7619.png\";","module.exports = __webpack_public_path__ + \"static/media/mosque2.f90eacbc.png\";","module.exports = __webpack_public_path__ + \"static/media/mosque3.faee101b.png\";","module.exports = __webpack_public_path__ + \"static/media/mosque4.19709cd1.png\";","module.exports = __webpack_public_path__ + \"static/media/mosque5.455e3bf2.png\";","module.exports = __webpack_public_path__ + \"static/media/mosque6.7132b140.png\";","const API_URL = 'https://us-central1-mosque-fund-fb.cloudfunctions.net/api/mosques';\r\nconst token = 'eyJhbGciOiJSUzI1NiIsImtpZCI6IjZjZmMyMzViZDYxMGZhY2FlYzVlYjBhZGU5NTg5ZGE5NTI4MmRlY2QiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vbW9zcXVlLWZ1bmQtZmIiLCJhdWQiOiJtb3NxdWUtZnVuZC1mYiIsImF1dGhfdGltZSI6MTU5NTU0NjY1NywidXNlcl9pZCI6IlJsbHgyeENRNk9aOWtWOFNyTGpoVlR5RWIzeDEiLCJzdWIiOiJSbGx4MnhDUTZPWjlrVjhTckxqaFZUeUViM3gxIiwiaWF0IjoxNTk1NTQ2NjU4LCJleHAiOjE1OTU1NTAyNTgsImVtYWlsIjoib25vb3JpQHVjaS5lZHUiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZW1haWwiOlsib25vb3JpQHVjaS5lZHUiXX0sInNpZ25faW5fcHJvdmlkZXIiOiJwYXNzd29yZCJ9fQ.O2NcbPGvaPpblJ_KwbzoIa-dEmCO5ue2IUUHhDJlldV1D-Y0eWDNJer2PEJEOAoI6G2MutrgNP-me8dxcqg8Jw6xyMjLdZB7PZ0DNn0TOrXDq4D4yw1t3r8QB2nbKfXHZxi2qiqK_okBidUUzNJoH_d7ui6hbUnRgXR6wKBxsqw9ze9UqRDuzh68q2t-u8b74qPwiAAQv0PgARrw70Yu-d6w8ixRrVWOECL7xaVIhchEqvop_KvBf3IVdkZT6qYfUzxX9WkSsxpr6pRWMf85b3_gFPCiDJepsThg5OWBg8667ALj1sBuOkyc_HBtQEKGSaystzDyXlg4KWN0vD8G9A';\r\n\r\nexport async function listMosques() {\r\n  const response = await fetch(`${API_URL}?token=${token}&limit=100&dev=true`);\r\n  return response.json();\r\n}","import React, { useState, useEffect } from 'react';\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl';\n\nimport { listMosques } from './API';\n\nconst App = () => {\n\n  const [mosques, setMosques] = useState([]);\n  const [showPopup, setShowPopup] = useState({});\n  // const [showMarker, setShowMarker] = useState({});\n  const [viewport, setViewPort] = useState({\n    width: '100vw',\n    height: '100vh',\n    latitude: 33.9174485,\n    longitude: -118.0283703,\n    zoom: 9\n  });\n  const TOKEN = \"pk.eyJ1IjoibW9zcXVlZnVuZCIsImEiOiJja2N3ank1ZXUwMnVnMnNwbXh2eXB5OG04In0.J56Th828d2K-c5sJ8tLsjg\";\n\n  const mosqueImages = [\n    require('./images/mosque1.png'),\n    require('./images/mosque2.png'),\n    require('./images/mosque3.png'),\n    require('./images/mosque4.png'),\n    require('./images/mosque5.png'),\n    require('./images/mosque6.png'),\n  ];\n\n  useEffect(() => {\n    (async () => {\n      document.title = \"Mosque Fund Map\";\n      const mosques = await listMosques();\n      for (const mosque of mosques) {\n        mosque.iconUrl = mosqueImages[Math.floor(Math.random() * 6)];\n        // setShowMarker({ ...showMarker, [mosque.placeId]: true });\n      }\n      setMosques(mosques);\n    })();\n  }, []);\n\n  const showAddMarkerPopup = (event) => {\n    console.log(event);\n  }\n\n  return (\n    <ReactMapGL\n      mapboxApiAccessToken={TOKEN}\n      {...viewport}\n      mapStyle=\"mapbox://styles/mosquefund/ckczhvmog02781io8pfq9abpt\"\n      onViewportChange={setViewPort}\n      onDblClick={showAddMarkerPopup}\n    >\n      {\n        mosques.map(entry => (\n          <>\n            <Marker\n              key={entry.placeId}\n              latitude={Number(entry.latitude)}\n              longitude={Number(entry.longitude)}\n              style={{\n                zIndex: '-1'\n              }}\n            >\n              <div onClick={() => setShowPopup({\n                // ...showPopup,\n                [entry.placeId]: true\n              })}>\n                <img className=\"marker\"\n                  alt=\"marker\"\n                  style={{\n                    width: `${7.5 * viewport.zoom}px`,\n                    height: `${7.5 * viewport.zoom}px`,\n                  }}\n                  src={entry.iconUrl} />\n              </div>\n            </Marker>\n            {\n              showPopup[entry.placeId] ? (\n                <Popup\n                  latitude={Number(entry.latitude)}\n                  longitude={Number(entry.longitude)}\n                  style={{\n                    zIndex: '1'\n                  }}\n                  closeButton={true}\n                  closeOnClick={false}\n                  dynamicPosition={true}\n                  onClose={() => setShowPopup({ ...showPopup, [entry.placeId]: false })}\n                  anchor=\"top\"\n                >\n                  <div className=\"popup\">\n                    <h3>{entry.name}</h3>\n                    <p>{entry.fullAddress}</p>\n                    {entry.website ? <p>Website: <a href={`https://www.${entry.website}`} target=\"_blank\" rel=\"noopener noreferrer\">{entry.website}</a></p> : null}\n                    {Number(entry.rating) > 4 ? <p>Rating: {entry.rating}</p> : null}\n\n                  </div>\n                </Popup>\n              ) : null\n            }\n          </>\n        ))\n      }\n    </ReactMapGL >\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}